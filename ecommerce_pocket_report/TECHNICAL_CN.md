# 长城汽车掌上报告 - 技术文档

## 简介
本指南解释了**如何运行**仪表板以及**它是如何构建的**。专为**零**编程经验的用户编写。

## 第一部分：工作原理 ("幕后揭秘")
在运行之前，了解其运作方式：
1.  **引擎 (Python)**: 处理逻辑的编程语言。
2.  **界面 (Streamlit)**: 将 Python 代码转换为网站的工具。我们不需要从头编写 HTML/CSS；Streamlit 完成了繁重的工作。
3.  **数据 (ClickHouse)**: 仪表板**不**存储数据。它连接到远程数据库 (ClickHouse) 以获取实时销售数据。
4.  **视觉效果 (Plotly)**: 用于绘制交互式图表和地图的工具。

**流程:**
`您的电脑` -> `请求数据` -> `数据库 (远程)` -> `返回数字` -> `仪表板绘制图表`

---

## 第二部分：安装指南 (分步说明)

### 第1步：安装 Python
1.  前往 [python.org](https://www.python.org/downloads/) 下载最新版本。
2.  **关键**: 安装时，务必勾选安装程序底部的 **"Add Python to PATH"** (将 Python 添加到环境变量)。如果您错过这一步，命令将无法工作！

### 第2步：获取代码
1.  下载此项目文件夹（例如 "下载 ZIP" 并解压）。
2.  打开文件夹。您应该看到像 `app.py` 和 `requirements.txt` 这样的文件。

### 第3步：打开 "指挥中心"
我们需要使用文本界面与计算机交流。
1.  **Windows**: 按 `开始`，输入 `PowerShell`，然后打开它。
2.  **Mac**: 按 `Cmd + Space`，输入 `Terminal`，然后打开它。
3.  输入 `cd` (空格)，然后将项目文件夹拖入终端窗口。看起来像这样：
    ```bash
    cd C:\Users\YourName\Downloads\retencao
    ```
4.  按 **回车 (Enter)**。

### 第4步：安装 "工具" (库)
我们需要下载项目使用的工具（Streamlit, Plotly 等）。
输入此命令并按 **回车**:
```bash
pip install -r requirements.txt
```
*您会看到很多文字滚动。这是正常的。等待它停止。*

### 第5步：运行仪表板
输入此命令并按 **回车**:
```bash
streamlit run app.py
```
您的互联网浏览器将打开一个新标签页，显示仪表板！

---

## 第三部分：深入了解 (致好奇者)
如果您想了解代码结构：
-   **`app.py`**: "经理"。它决定在屏幕上显示什么（图表、表格、过滤器）。
-   **`database.py`**: "信使"。包含发送到数据库的 **SQL 查询**（指令），以获取特定数字（例如："选择昨天的所有销售额"）。
-   **`styles.py`**: "造型师"。包含 CSS 代码，使仪表板具有 "豪华" 外观（字体、颜色、间距）。

## 故障排除
-   **"Failed to connect to database" (无法连接到数据库)**:
    -   由于数据库是远程的，您可能需要连接到公司的 **VPN** 或办公网络。
    -   仪表板无法离线工作。
-   **"Command not found" (未找到命令)**:
    -   您可能在安装过程中忘记勾选 **"Add Python to PATH"**。请重新安装 Python 并勾选该框。
